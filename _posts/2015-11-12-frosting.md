---
layout: post
title: "Frosting: Charts in List Views"
description: ""
category: 
tags: [frosting, charts, api, formula]
---
{% include JB/setup %}

Today, Mr. [Ryan Ozimek](https://twitter.com/cozimek) reminded me of the good old days before JSON APIs, when making a [chart was as simple as a bunch of query parameters to Google](https://developers.google.com/chart/image/docs/making_charts) and getting an image in response.

Wait a minute...getting an image in response means that this can go in an `IMAGE()` formula...doesn't it?! 

## Yes. It Does.
![Charts inline in page layout](http://i.imgur.com/kQcBKWG.png)

Above you can see a gas gauge chart right inline in the page layout! Okay, admittedly Salesforce has [offered this functionality since Winter '14](http://docs.releasenotes.salesforce.com/en-us/winter14/release-notes/reports_embed_pagelayout.htm) but not quite like this. This is a **field** which means you can include it in a report (cool!) or a LIST VIEW (my favorite way of looking at data).

![a list view of gauges](http://i.imgur.com/sjEEazs.png)

## So how do I do it?

If you're like my contrived example, and just want to see percent to goal across your active campaigns, it's a breeze.

First, create a new custom formula field on the Campaign object. The type is "formula" and the return type is "text". I named my field "Chart" because I am unimaginative, but you might want to name it something like "Goal Chart" or "I deserve a raise". 

The formula is simple, you're just going to create an image with a link that follows the charting API guidelines. For the simple gas gauge:

    IMAGE("http://chart.googleapis.com/chart?cht=gom&chs=240x100&chd=t:"&TEXT( (AmountWonOpportunities / ExpectedRevenue) * 100),"Chart")


If you want to include the entire campaign hierarchy, it's simple:


    IMAGE("http://chart.googleapis.com/chart?cht=gom&chs=240x100&chd=t:"&TEXT( (HierarchyAmountWonOpportunities / ExpectedRevenue) * 100),"Chart")

Then, save that field, add it to the page layout if you'd like, and create a new list view to show your active campaigns. Add this field to the list view columns and BLAMMO you just earned that raise!

## You said this was a contrived example, but I actually want to implement it!

You're right, this isn't that contrived of an example at all, it's a pretty useful one. This is a feature my team likes to call "frosting". It's that tasty and light stuff on top of the cake that makes your users just a bit more likely to be *users who actually use the system*, and it's also easy to make!

Other examples of "frosting" are [maps on the page layout](http://cdcarter.github.io/visualforce/2015/10/16/vf-mapping), [optimizing your mobile experience](http://cdcarter.github.io/admin/2015/08/30/getting-started-with-sf1/), and [branding your login page](https://help.salesforce.com/HTViewHelpDoc?id=domain_name_login_branding.htm&language=en_US).

## Hat Tip
Just want to take this part of the post to acknowledge Ryan for pointing me toward that Google Charts API and Brad Struss for saying "what does it look like in a list view"!
